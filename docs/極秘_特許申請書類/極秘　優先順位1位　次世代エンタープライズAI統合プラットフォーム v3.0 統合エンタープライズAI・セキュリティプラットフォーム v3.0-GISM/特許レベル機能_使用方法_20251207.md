# 特許レベル機能 使用方法

**作成日**: 2025年12月7日

---

## 🚀 アプリケーション起動

### **方法1: バッチファイルを使用（推奨）**
```bash
3_アプリ起動.bat
```

### **方法2: 手動起動**
```bash
cd "次世代マルチモーダルAI統合プラットフォームv8.0"
venv\Scripts\activate
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

---

## 📋 特許レベルAPI 使用方法

### **1. 適応的マルチモーダル融合**

#### **エンドポイント**
```
POST /api/v5/adaptive/fusion
```

#### **リクエスト例**
```json
{
  "modality_results": [
    {
      "modality": "text",
      "data": {"sentiment": 0.8, "confidence": 0.9},
      "confidence": 0.85,
      "features": [0.1, 0.2, 0.3, 0.4]
    },
    {
      "modality": "image",
      "data": {"objects": ["person", "car"], "confidence": 0.9},
      "confidence": 0.88,
      "features": [0.2, 0.3, 0.4, 0.5]
    }
  ],
  "strategy": "confidence_based",
  "context": {
    "task_type": "general",
    "time_of_day": 14,
    "environment": "normal"
  }
}
```

#### **利用可能な戦略**
- `weighted_average`: 重み付き平均融合
- `confidence_based`: 信頼度ベース融合（推奨）
- `context_aware`: コンテキスト認識融合
- `hierarchical`: 階層的融合
- `attention_based`: アテンションベース融合

---

### **2. 適応的キャッシュ統計**

#### **エンドポイント**
```
GET /api/v5/cache/stats
```

#### **レスポンス例**
```json
{
  "status": "success",
  "cache_statistics": {
    "cache_size": 10,
    "max_size": 100,
    "access_history_size": 50,
    "unique_keys": 15,
    "hot_keys_count": 3,
    "prefetch_candidates": 2,
    "dynamic_ttls_count": 10
  },
  "access_pattern": {
    "status": "learned",
    "hot_keys": ["key1", "key2", "key3"],
    "avg_frequency": 5.2,
    "total_unique_keys": 15
  }
}
```

---

### **3. キャッシュ最適化**

#### **エンドポイント**
```
POST /api/v5/cache/optimize
```

#### **レスポンス例**
```json
{
  "status": "success",
  "optimization_result": {
    "status": "optimized",
    "removed_keys": 5,
    "remaining_size": 45
  }
}
```

---

### **4. 予測的プリフェッチ候補**

#### **エンドポイント**
```
GET /api/v5/cache/prefetch
```

#### **レスポンス例**
```json
{
  "status": "success",
  "prefetch_candidates": [
    {"key": "related_key_1", "score": 0.85},
    {"key": "related_key_2", "score": 0.72}
  ]
}
```

---

## 🔧 動作確認手順

### **手順1: アプリケーション起動**
新しいコマンドプロンプトまたはPowerShellで：
```bash
3_アプリ起動.bat
```

### **手順2: 動作確認スクリプト実行**
別のコマンドプロンプトまたはPowerShellで：
```bash
python 特許レベルAPI_動作確認_20251207.py
```

または：
```bash
8_特許レベルAPI確認.bat
```

---

## 📊 技術的特徴

### **適応的マルチモーダル融合**
- **動的重み付け**: 信頼度に基づく自動調整
- **5つの融合戦略**: 用途に応じた最適な戦略を選択
- **エラー補正**: モーダル間の矛盾を自動検出・補正
- **自己学習**: パフォーマンス履歴を考慮

### **適応的キャッシュ**
- **アクセスパターン学習**: ユーザーのアクセスパターンを学習
- **予測的プリフェッチ**: 次にアクセスされる可能性の高いデータを事前読み込み
- **動的TTL調整**: 重要度に応じてTTLを自動調整
- **メモリ効率最適化**: 自動最適化

---

## 🎯 期待される効果

- **パフォーマンス**: キャッシュヒット率20-30%向上、レイテンシ最大50%削減
- **精度**: 融合精度最大15%向上、エラー率最大25%削減
- **運用効率**: 自動最適化による運用コスト削減

---

**更新日**: 2025年12月7日

