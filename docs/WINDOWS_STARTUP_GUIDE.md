# Windows起動ガイド

**作成日**: 2026年1月29日

---

## 📋 概要

WindowsコマンドプロンプトでUEP v5.0のバックエンドとフロントエンドを起動する方法を説明します。

---

## 🚀 起動方法

### 方法1: 全サービスを同時に起動（推奨）

```cmd
start-all.bat
```

このコマンドを実行すると：

- ✅ **バックエンドAPI（ポート8000）**が新しいウィンドウで起動
- ✅ **フロントエンド（ポート3000）**が新しいウィンドウで起動（存在する場合）

**注意**: フロントエンドディレクトリが存在しない場合、`start-frontend.bat`は自動的に作成を促します。

### 方法2: 個別に起動

#### バックエンドのみ起動

```cmd
start-backend.bat
```

**アクセス**:

- API: http://localhost:8000
- API Docs: http://localhost:8000/docs

#### フロントエンドのみ起動

```cmd
start-frontend.bat
```

**注意**: フロントエンドディレクトリが存在しない場合、作成を促されます。

**アクセス**: http://localhost:3000

---

## 🛑 停止方法

### 全サービスを停止

```cmd
stop-all.bat
```

このコマンドで、ポート8000と3000を使用しているプロセスを自動的に終了します。

### 個別に停止

各ウィンドウで **`Ctrl+C`** を押すか、**ウィンドウを閉じる**ことで停止できます。

---

## 📋 前提条件

### バックエンド

- **Python 3.11以上** がインストールされていること
- Pythonのパスが環境変数に設定されていること

確認方法:

```cmd
python --version
```

### フロントエンド

- **Node.js 18以上** がインストールされていること
- **npm** がインストールされていること

確認方法:

```cmd
node --version
npm --version
```

---

## 🔧 初回セットアップ

### バックエンド

1. `start-backend.bat` を実行
2. 仮想環境が自動的に作成されます
3. 依存パッケージが自動的にインストールされます

### フロントエンド

1. `start-frontend.bat` を実行
2. フロントエンドディレクトリが存在しない場合、作成を促されます
3. React + TypeScriptプロジェクトが自動的に作成されます（初回のみ）

---

## 🌐 アクセスURL

起動後、以下のURLにアクセスできます：

- **バックエンドAPI**: http://localhost:8000
- **APIドキュメント**: http://localhost:8000/docs
- **フロントエンド**: http://localhost:3000

---

## ⚠️ トラブルシューティング

### バックエンドが起動しない

1. Pythonがインストールされているか確認

   ```cmd
   python --version
   ```

2. 仮想環境が正しく作成されているか確認

   ```cmd
   cd backend
   dir venv
   ```

3. 依存パッケージがインストールされているか確認
   ```cmd
   cd backend
   venv\Scripts\activate
   pip list
   ```

### フロントエンドが起動しない

1. Node.jsがインストールされているか確認

   ```cmd
   node --version
   npm --version
   ```

2. 依存パッケージがインストールされているか確認

   ```cmd
   cd frontend
   dir node_modules
   ```

3. ポート3000が使用中でないか確認
   ```cmd
   netstat -ano | findstr :3000
   ```

### ポートが使用中

ポート8000または3000が使用中の場合は、以下のコマンドでプロセスを確認・終了できます：

```cmd
REM ポート8000を使用しているプロセスを確認
netstat -ano | findstr :8000

REM プロセスIDを指定して終了（例: PIDが1234の場合）
taskkill /F /PID 1234
```

---

## 📝 スクリプトの説明

### start-backend.bat

- バックエンドAPIを起動します
- 仮想環境の作成・有効化
- 依存パッケージのインストール
- 環境変数ファイル（.env）の作成
- FastAPIサーバーの起動

### start-frontend.bat

- フロントエンドを起動します
- フロントエンドディレクトリが存在しない場合、作成を促します
- React + TypeScriptプロジェクトの作成（初回のみ）
- 依存パッケージのインストール
- 開発サーバーの起動

### start-all.bat

- バックエンドとフロントエンドを別ウィンドウで同時に起動します
- 各サービスが独立したウィンドウで実行されます

### stop-all.bat

- 実行中の全サービスを停止します
- ポート8000と3000を使用しているプロセスを終了します

---

## 🔄 開発時の推奨ワークフロー

1. **初回セットアップ**

   ```cmd
   start-all.bat
   ```

2. **開発中**
   - バックエンドの変更: 自動リロード（uvicornの機能）
   - フロントエンドの変更: 自動リロード（Reactの機能）

3. **停止**
   ```cmd
   stop-all.bat
   ```
   または各ウィンドウで `Ctrl+C`

---

以上
